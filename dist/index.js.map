{"version":3,"sources":["../src/lib.ts","../src/TimeGrid.tsx","../src/useFastMouseenter.ts","../src/TimeGridCell.tsx","../src/useEventListener.ts","../src/TimeGridDay.tsx","../src/AggregatedTimeGrid.tsx","../src/AggregatedTimeGridDay.tsx","../src/utils/colorInterpolation.ts","../src/utils/contrastTextColor.ts","../src/AggregatedTimeGridCell.tsx","../src/useAvailabilityOverlaps.ts"],"sourcesContent":["/**\n * TimeGrid - Individual availability selection component\n *\n * Users click and drag to select available time slots across multiple days.\n *\n * @example\n * ```tsx\n * import { TimeGrid } from 'react-availability-grid';\n * import 'react-availability-grid/styles.css';\n *\n * <TimeGrid\n *   selection={selection}\n *   setSelection={setSelection}\n *   startDate={dayjs()}\n *   endDate={dayjs().add(7, 'days')}\n *   earliestStart={dayjs().hour(9).minute(0)}\n *   latestEnd={dayjs().hour(17).minute(0)}\n *   intervalSize={60}\n * />\n * ```\n */\nexport { default as TimeGrid } from \"./TimeGrid\";\n\n/**\n * AggregatedTimeGrid - Group availability heatmap component\n *\n * Visualizes when the most people are available using a color gradient.\n * Darker colors indicate more participants available at that time.\n *\n * @example\n * ```tsx\n * import { AggregatedTimeGrid } from 'react-availability-grid';\n * import 'react-availability-grid/styles.css';\n *\n * const responses = [\n *   { id: '1', name: 'Alice', availability: [...] },\n *   { id: '2', name: 'Bob', availability: [...] }\n * ];\n *\n * <AggregatedTimeGrid\n *   responses={responses}\n *   startDate={dayjs()}\n *   endDate={dayjs().add(7, 'days')}\n *   earliestStart={dayjs().hour(9).minute(0)}\n *   latestEnd={dayjs().hour(17).minute(0)}\n *   onCellClick={(time, participants) => {\n *     console.log(`${participants.length} available at ${time.format('h:mm A')}`);\n *   }}\n * />\n * ```\n */\nexport { default as AggregatedTimeGrid } from \"./AggregatedTimeGrid\";\n\n/**\n * Hook for analyzing participant availability overlaps\n *\n * Returns methods to query who is available at specific times and find\n * optimal meeting times.\n *\n * @example\n * ```tsx\n * import { useAvailabilityOverlaps } from 'react-availability-grid';\n *\n * const overlaps = useAvailabilityOverlaps(responses);\n * const participants = overlaps.getParticipants(someTime);\n * const count = overlaps.getCount(someTime);\n *\n * // Find best meeting time\n * const best = Array.from(overlaps.byTimestamp.entries())\n *   .sort((a, b) => b[1].length - a[1].length)[0];\n * ```\n */\n\n// Hooks\nexport { useAvailabilityOverlaps } from \"./useAvailabilityOverlaps\";\n\n// Types\nexport type { TimeGridProps } from \"./TimeGrid\";\nexport type { AggregatedTimeGridProps } from \"./AggregatedTimeGrid\";\nexport type {\n  ParticipantResponse,\n  ParticipantInfo,\n  AvailabilityOverlaps,\n} from \"./useAvailabilityOverlaps\";\nexport type { Dayjs } from \"dayjs\";\n\n// Export styles - users need to import this separately\n// import 'react-availability-grid/styles.css'\n","import { useRef, useEffect, useMemo, useCallback } from \"react\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport isSameOrBefore from \"dayjs/plugin/isSameOrBefore.js\";\nimport { useFastMouseenter } from \"./useFastMouseenter\";\nimport { TimeGridCell } from \"./TimeGridCell\";\nimport { TimeGridDay } from \"./TimeGridDay\";\n\ndayjs.extend(isSameOrBefore);\n\nexport interface TimeGridProps {\n  selection: Dayjs[];\n  setSelection: (\n    selection: Dayjs[] | ((prevSelection: Dayjs[]) => Dayjs[])\n  ) => void;\n  startDate: Dayjs;\n  endDate: Dayjs;\n  intervalSize?: number;\n  earliestStart: Dayjs;\n  latestEnd: Dayjs;\n  /**\n   * Optional array of allowed time slots. If provided, only these times will be selectable.\n   * If omitted or empty, all future times are allowed.\n   *\n   * IMPORTANT: This prop should be memoized (useMemo) or be a stable reference to avoid\n   * unnecessary re-renders of all cells.\n   *\n   * @example\n   * const allowedTimes = useMemo(() => doctorAvailableSlots, [doctorAvailableSlots]);\n   */\n  allowedTimes?: Dayjs[];\n  onSelectionChange?: (selection: Dayjs[]) => void;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\ntype SelectionAction = \"select\" | \"unselect\" | null;\ntype SelectionTarget = \"day\" | \"cell\" | null;\n\nexport default function TimeGrid({\n  selection,\n  setSelection,\n  startDate,\n  endDate,\n  intervalSize = 60,\n  earliestStart,\n  latestEnd,\n  allowedTimes,\n  onSelectionChange,\n  className,\n  style,\n}: TimeGridProps) {\n  const selectionAction = useRef<SelectionAction>(null);\n  const selectionTarget = useRef<SelectionTarget>(null);\n  const fastMouseenter = useFastMouseenter();\n\n  // Wrapper to call both setSelection and onSelectionChange\n  const updateSelection = useCallback((\n    updater: Dayjs[] | ((prevSelection: Dayjs[]) => Dayjs[])\n  ) => {\n    setSelection((prev) => {\n      const newSelection = typeof updater === 'function' ? updater(prev) : updater;\n      if (onSelectionChange) {\n        onSelectionChange(newSelection);\n      }\n      return newSelection;\n    });\n  }, [setSelection, onSelectionChange]);\n\n  const days = useMemo(() => {\n    const daysArray: Dayjs[] = [];\n    let currentDay = startDate.clone().startOf('day');\n    while (currentDay.isSameOrBefore(endDate, 'day')) {\n      daysArray.push(currentDay.clone());\n      currentDay = currentDay.add(1, \"days\");\n    }\n    return daysArray;\n  }, [startDate, endDate]);\n\n  const { hours, startHour, finalHour } = useMemo(() => {\n    const start = startDate.clone().hour(earliestStart.hour()).minute(0).second(0).millisecond(0);\n    const end = startDate.clone().hour(latestEnd.hour()).minute(0).second(0).millisecond(0);\n    const final = startDate\n      .clone()\n      .hour(latestEnd.hour())\n      .subtract(1, \"hour\")\n      .minute(0)\n      .second(0)\n      .millisecond(0);\n\n    const hoursArray: Dayjs[] = [];\n    let currentHour = start.clone();\n    while (currentHour.isBefore(end)) {\n      hoursArray.push(currentHour.clone());\n      currentHour = currentHour.add(intervalSize, \"minutes\");\n    }\n\n    return { hours: hoursArray, startHour: start, finalHour: final };\n  }, [startDate, earliestStart, latestEnd, intervalSize]);\n\n  const handleMouseUp = useCallback(() => {\n    selectionAction.current = null;\n    selectionTarget.current = null;\n    fastMouseenter(false);\n  }, [fastMouseenter]);\n\n  useEffect(() => {\n    document.addEventListener(\"mouseup\", handleMouseUp);\n    return () => {\n      document.removeEventListener(\"mouseup\", handleMouseUp);\n    };\n  }, [handleMouseUp]);\n\n  // Convert selection to Set of timestamps for O(1) lookup performance\n  const selectionSet = useMemo(() => {\n    return new Set(selection.map(s => s.valueOf()));\n  }, [selection]);\n\n  const isInAllowedTimes = useMemo(() => {\n    if (allowedTimes && allowedTimes.length > 0) {\n      return (dateTime: Dayjs) =>\n        allowedTimes.some((allowedTime) => dateTime.isSame(allowedTime));\n    }\n    return () => true;\n  }, [allowedTimes]);\n\n  const isDisabled = useCallback((dateTime: Dayjs) => {\n    const currentTime = dayjs();\n\n    if (dateTime.isBefore(currentTime)) {\n      return true;\n    }\n\n    return !isInAllowedTimes(dateTime);\n  }, [isInAllowedTimes]);\n\n  const handleCellMouseDown = (e: React.MouseEvent, hour: Dayjs, day: Dayjs) => {\n    const dateTime = day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0);\n    if (isDisabled(dateTime)) {\n      return;\n    }\n\n    const isSelected = selectionSet.has(dateTime.valueOf());\n    selectionAction.current = isSelected ? \"unselect\" : \"select\";\n    selectionTarget.current = \"cell\";\n\n    fastMouseenter(true, e.nativeEvent);\n  };\n\n  const handleCellMouseEnter = (hour, day) => {\n    const dateTime = day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0);\n    if (selectionTarget.current !== \"cell\" || isDisabled(dateTime)) {\n      return;\n    }\n\n    toggleTimeCell(dateTime);\n  };\n\n  const handleDayMouseDown = (e: React.MouseEvent, day: Dayjs) => {\n    const daySlots = hours\n      .filter(\n        (hour) =>\n          !isDisabled(day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0))\n      )\n      .map((hour) => day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0));\n\n    const allHoursSelected = daySlots.every((slot) =>\n      selectionSet.has(slot.valueOf())\n    );\n    selectionAction.current = allHoursSelected ? \"unselect\" : \"select\";\n    selectionTarget.current = \"day\";\n\n    fastMouseenter(true, e.nativeEvent);\n  };\n\n  const handleDayMouseEnter = (day) => {\n    if (selectionTarget.current !== \"day\") {\n      return;\n    }\n\n    handleDaySelection(day);\n  };\n\n  const toggleTimeCell = useCallback((dateTime: Dayjs) => {\n    if (isDisabled(dateTime)) {\n      return;\n    }\n\n    const isSelected = selectionSet.has(dateTime.valueOf());\n\n    if (\n      (isSelected && selectionAction.current === \"select\") ||\n      (!isSelected && selectionAction.current === \"unselect\")\n    ) {\n      return;\n    }\n\n    if (isSelected) {\n      // Remove from selection\n      updateSelection((prevSelection) => {\n        return prevSelection.filter((t) => !t.isSame(dateTime));\n      });\n    } else {\n      // Add to selection\n      updateSelection((prevSelection) => {\n        return [...prevSelection, dateTime];\n      });\n    }\n  }, [isDisabled, selectionSet, updateSelection]);\n\n  const handleDaySelection = (day) => {\n    const daySlots = hours\n      .filter(\n        (hour) =>\n          !isDisabled(day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0))\n      )\n      .map((hour) => day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0));\n\n    const allHoursSelected = daySlots.every((slot) =>\n      selectionSet.has(slot.valueOf())\n    );\n\n    if (\n      (allHoursSelected && selectionAction.current === \"select\") ||\n      (!allHoursSelected && selectionAction.current === \"unselect\")\n    ) {\n      return;\n    }\n\n    if (allHoursSelected) {\n      updateSelection((prevSelection) => {\n        return prevSelection.filter((slot) => !slot.isSame(day, \"day\"));\n      });\n    } else {\n      updateSelection((prevSelection) => {\n        return [...prevSelection, ...daySlots];\n      });\n    }\n  };\n\n  const handleCellKeyDown = useCallback((e: React.KeyboardEvent, hour: Dayjs, day: Dayjs) => {\n    const dateTime = day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0);\n\n    // Handle selection with Space or Enter\n    if (e.key === ' ' || e.key === 'Enter') {\n      e.preventDefault();\n      toggleTimeCell(dateTime);\n      return;\n    }\n\n    // Handle arrow key navigation\n    if (['ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n      e.preventDefault();\n\n      const currentDayIndex = days.findIndex(d => d.isSame(day, 'day'));\n      const currentHourIndex = hours.findIndex(h => h.isSame(hour, 'hour'));\n\n      let newDayIndex = currentDayIndex;\n      let newHourIndex = currentHourIndex;\n\n      if (e.key === 'ArrowLeft') {\n        newDayIndex = Math.max(0, currentDayIndex - 1);\n      } else if (e.key === 'ArrowRight') {\n        newDayIndex = Math.min(days.length - 1, currentDayIndex + 1);\n      } else if (e.key === 'ArrowUp') {\n        newHourIndex = Math.max(0, currentHourIndex - 1);\n      } else if (e.key === 'ArrowDown') {\n        newHourIndex = Math.min(hours.length - 1, currentHourIndex + 1);\n      }\n\n      // Focus the new cell\n      if (newDayIndex !== currentDayIndex || newHourIndex !== currentHourIndex) {\n        const newDay = days[newDayIndex];\n        const newHour = hours[newHourIndex];\n\n        // Find and focus the cell element\n        const cellKey = `cell-${newHour.format(\"H:mm\")}-${newDay.format(\"ddd D\")}`;\n        const cellElement = document.querySelector(`[data-cell-key=\"${cellKey}\"]`) as HTMLElement;\n        if (cellElement) {\n          cellElement.focus();\n        }\n      }\n    }\n  }, [days, hours, toggleTimeCell]);\n\n  const rootClassName = ['timegrid', className].filter(Boolean).join(' ');\n\n  return (\n    <div\n      className={rootClassName}\n      style={style}\n      role=\"grid\"\n      aria-label=\"Time availability grid\"\n      aria-multiselectable=\"true\"\n    >\n      <div className=\"timegrid-header\" role=\"row\">\n        {days.map((day) => (\n          <TimeGridDay\n            key={`day-${day.format(\"ddd D\")}`}\n            day={day}\n            handleMouseDown={handleDayMouseDown}\n            handleMouseEnter={handleDayMouseEnter}\n          />\n        ))}\n      </div>\n      {hours.map((hour) => (\n        <div key={`hour-${hour.format(\"H:mm\")}`} className=\"timegrid-row\" role=\"row\">\n          {days.map((day) => {\n            return (\n              <TimeGridCell\n                key={`cell-${hour.format(\"H:mm\")}-${day.format(\"ddd D\")}`}\n                day={day}\n                hour={hour}\n                startHour={startHour}\n                finalHour={finalHour}\n                selectionSet={selectionSet}\n                isDisabled={isDisabled}\n                handleMouseDown={handleCellMouseDown}\n                handleMouseEnter={handleCellMouseEnter}\n                handleKeyDown={handleCellKeyDown}\n              />\n            );\n          })}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from \"react\";\n\nexport function useFastMouseenter(distance: number = 15) {\n  const [enabled, setEnabled] = useState<boolean>(false);\n  const mousePos = useRef<{ x: number; y: number } | null>(null);\n\n  const lastEl = useRef<Element | null>(null);\n\n  const updateEl = useCallback((x: number, y: number) => {\n    const el = document.elementFromPoint(x, y);\n    if (el && el !== lastEl.current) {\n      lastEl.current = el;\n\n      var evt = new CustomEvent(\"fastmouseenter\");\n      el.dispatchEvent(evt);\n    }\n  }, []);\n\n  const handleMouseMove = useCallback((event: MouseEvent) => {\n\n    if (!lastEl.current) {\n      updateEl(event.clientX, event.clientY)\n    }\n\n    if (!mousePos.current) {\n      mousePos.current = { x: event.clientX, y: event.clientY };\n      return;\n    }\n\n    // https://math.stackexchange.com/a/1630886\n    const { x: x1, y: y1 } = mousePos.current;\n    mousePos.current = { x: event.clientX, y: event.clientY };\n    const { clientX: x2, clientY: y2 } = event;\n\n    var dx = x2 - x1;\n    var dy = y2 - y1;\n\n    var d = Math.sqrt(dx * dx + dy * dy);\n\n    if (d < distance) {\n      updateEl(event.clientX, event.clientY);\n      return;\n    }\n\n    const t = distance / d;\n\n    const stepX = Math.trunc(t * dx);\n    const stepY = Math.trunc(t * dy);\n\n    const clampX = createClamp(x2, stepX);\n    const clampY = createClamp(y2, stepY);\n\n    let simulatedX = clampX(x1 + stepX);\n    let simulatedY = clampY(y1 + stepY);\n\n    while (simulatedX !== x2 || simulatedY !== y2) {\n      updateEl(simulatedX, simulatedY);\n\n      simulatedX = clampX(simulatedX + stepX);\n      simulatedY = clampY(simulatedY + stepY);\n    }\n  }, [updateEl, distance]);\n\n  useEffect(() => {\n    if (enabled) {\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      return () => {\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n      };\n    } else {\n      mousePos.current = null;\n      lastEl.current = null;\n    }\n  }, [enabled, handleMouseMove]);\n\n  const hook = useCallback((enable: boolean, e?: MouseEvent) => {\n    setEnabled(enable);\n\n    if (enable && e) {\n      updateEl(e.clientX, e.clientY);\n      mousePos.current = { x: e.clientX, y: e.clientY };\n    }\n  }, [updateEl]) as {\n    (enable: true, e: MouseEvent): void;\n    (enable: false): void;\n  };\n\n  return hook;\n}\n\nfunction createClamp(p2: number, delta: number): (p1: number) => number {\n  if (delta > 0) {\n    return (p1: number) => Math.min(p1, p2);\n  } else if (delta < 0) {\n    return (p1: number) => Math.max(p1, p2);\n  } else {\n    return (p1: number) => p2;\n  }\n};","import { Dayjs } from \"dayjs\";\nimport { useRef } from \"react\";\nimport { useEventListener } from './useEventListener';\n\ninterface TimeGridCellProps {\n  day: Dayjs;\n  hour: Dayjs;\n  startHour: Dayjs,\n  finalHour: Dayjs,\n  selectionSet: Set<number>;\n  isDisabled: (dateTime: Dayjs) => boolean;\n  handleMouseDown: (e: React.MouseEvent, hour: Dayjs, day: Dayjs) => void,\n  handleMouseEnter: (hour: Dayjs, day: Dayjs) => void,\n  handleKeyDown?: (e: React.KeyboardEvent, hour: Dayjs, day: Dayjs) => void,\n}\n\nexport function TimeGridCell({\n  day,\n  hour,\n  selectionSet,\n  isDisabled,\n  handleMouseDown,\n  handleMouseEnter,\n  handleKeyDown,\n  startHour,\n  finalHour,\n}: TimeGridCellProps) {\n  const dateTime = day.clone().hour(hour.hour()).minute(hour.minute()).second(0).millisecond(0);\n  const isSelected = selectionSet.has(dateTime.valueOf());\n  const disabled = isDisabled(dateTime);\n  const weekend = day.day() === 0 || day.day() === 6;\n  const earliest = hour.isSame(startHour, \"hour\");\n  const lastest = hour.isSame(finalHour, \"hour\");\n  const cellRef = useRef<HTMLDivElement>(null);\n\n  // @ts-ignore\n  useEventListener('fastmouseenter', () => {\n    handleMouseEnter(hour, day);\n  }, cellRef);\n\n  const classNames = [\n    'timegrid-cell',\n    isSelected && 'selected',\n    disabled && 'disabled',\n    weekend && 'weekend',\n    earliest && 'earliest',\n    lastest && 'latest'\n  ].filter(Boolean).join(' ');\n\n  const ariaLabel = `${day.format(\"dddd, MMMM D\")} at ${hour.format(\"h:mm A\")}${isSelected ? ', selected' : ''}${disabled ? ', unavailable' : ''}`;\n  const cellKey = `cell-${hour.format(\"H:mm\")}-${day.format(\"ddd D\")}`;\n\n  return (\n    <div\n      ref={cellRef}\n      key={cellKey}\n      data-cell-key={cellKey}\n      className={classNames}\n      role=\"gridcell\"\n      aria-label={ariaLabel}\n      aria-selected={isSelected}\n      aria-disabled={disabled}\n      tabIndex={disabled ? -1 : 0}\n      onMouseDown={(e) => handleMouseDown(e, hour, day)}\n      onKeyDown={handleKeyDown ? (e) => handleKeyDown(e, hour, day) : undefined}\n    >\n      {hour.format(\"H:mm\")}\n    </div>\n  );\n}\n","import { useEffect, useRef } from 'react';\n\nexport function useEventListener<K extends keyof HTMLElementEventMap>(\n  eventName: K,\n  handler: (event: HTMLElementEventMap[K]) => void,\n  element: React.RefObject<HTMLElement>\n): void {\n  const savedHandler = useRef(handler);\n\n  useEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const targetElement = element?.current;\n    if (!targetElement) return;\n\n    const eventListener = (event: Event) => {\n      savedHandler.current(event as HTMLElementEventMap[K]);\n    };\n\n    targetElement.addEventListener(eventName, eventListener);\n\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n}\n","import { useEventListener } from \"./useEventListener\";\nimport { Dayjs } from \"dayjs\";\nimport { useRef } from \"react\";\n\ninterface TimeGridDayProps {\n  day: Dayjs;\n  handleMouseDown: (e: React.MouseEvent, day: Dayjs) => void;\n  handleMouseEnter: (day: Dayjs) => void;\n}\n\nexport function TimeGridDay({ day, handleMouseDown, handleMouseEnter }: TimeGridDayProps) {\n  const cellRef = useRef<HTMLDivElement>(null);\n\n  // @ts-ignore\n  useEventListener('fastmouseenter', () => {\n    handleMouseEnter(day);\n  }, cellRef);\n\n  return (\n    <div\n      ref={cellRef}\n      key={`day-${day.format(\"ddd D\")}`}\n      className=\"timegrid-day\"\n      role=\"columnheader\"\n      aria-label={day.format(\"dddd, MMMM D, YYYY\")}\n      onMouseDown={(e) => handleMouseDown(e, day)}\n    >\n      {day.format(\"ddd \")}\n      <div className=\"timegrid-day-number\">{day.format(\"D\")}</div>\n      {day.format(\"MMM\")}\n    </div>\n  );\n}\n","import { useMemo } from \"react\";\nimport dayjs, { Dayjs } from \"dayjs\";\nimport isSameOrBefore from \"dayjs/plugin/isSameOrBefore.js\";\nimport { AggregatedTimeGridDay } from \"./AggregatedTimeGridDay\";\nimport { AggregatedTimeGridCell } from \"./AggregatedTimeGridCell\";\nimport {\n  useAvailabilityOverlaps,\n  ParticipantResponse,\n  ParticipantInfo,\n} from \"./useAvailabilityOverlaps\";\n\ndayjs.extend(isSameOrBefore);\n\nexport interface AggregatedTimeGridProps {\n  responses: ParticipantResponse[];\n  startDate: Dayjs;\n  endDate: Dayjs;\n  intervalSize?: number;\n  earliestStart: Dayjs;\n  latestEnd: Dayjs;\n  onCellHover?: (time: Dayjs, participants: ParticipantInfo[]) => void;\n  onCellLeave?: () => void;\n  onCellClick?: (time: Dayjs, participants: ParticipantInfo[]) => void;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\nexport default function AggregatedTimeGrid({\n  responses,\n  startDate,\n  endDate,\n  intervalSize = 60,\n  earliestStart,\n  latestEnd,\n  onCellHover,\n  onCellLeave,\n  onCellClick,\n  className,\n  style,\n}: AggregatedTimeGridProps) {\n  const overlaps = useAvailabilityOverlaps(responses);\n\n  const days = useMemo(() => {\n    const daysArray: Dayjs[] = [];\n    let currentDay = startDate.clone().startOf(\"day\");\n    while (currentDay.isSameOrBefore(endDate, \"day\")) {\n      daysArray.push(currentDay.clone());\n      currentDay = currentDay.add(1, \"days\");\n    }\n    return daysArray;\n  }, [startDate, endDate]);\n\n  const { hours, startHour, finalHour } = useMemo(() => {\n    const start = startDate\n      .clone()\n      .hour(earliestStart.hour())\n      .minute(0)\n      .second(0)\n      .millisecond(0);\n    const end = startDate\n      .clone()\n      .hour(latestEnd.hour())\n      .minute(0)\n      .second(0)\n      .millisecond(0);\n    const final = startDate\n      .clone()\n      .hour(latestEnd.hour())\n      .subtract(1, \"hour\")\n      .minute(0)\n      .second(0)\n      .millisecond(0);\n\n    const hoursArray: Dayjs[] = [];\n    let currentHour = start.clone();\n    while (currentHour.isBefore(end)) {\n      hoursArray.push(currentHour.clone());\n      currentHour = currentHour.add(intervalSize, \"minutes\");\n    }\n\n    return { hours: hoursArray, startHour: start, finalHour: final };\n  }, [startDate, earliestStart, latestEnd, intervalSize]);\n\n  return (\n    <div\n      className={`timegrid aggregated-timegrid ${className || \"\"}`}\n      style={style}\n      role=\"grid\"\n      aria-label=\"Aggregated availability grid\"\n    >\n      <div className=\"timegrid-header\" role=\"row\">\n        {days.map((day) => (\n          <AggregatedTimeGridDay key={day.format(\"YYYY-MM-DD\")} day={day} />\n        ))}\n      </div>\n      <div className=\"timegrid-body\">\n        {hours.map((hour) => (\n          <div className=\"timegrid-row\" key={hour.format(\"HH:mm\")} role=\"row\">\n            {days.map((day) => {\n              const dateTime = day\n                .clone()\n                .hour(hour.hour())\n                .minute(hour.minute())\n                .second(0)\n                .millisecond(0);\n              const participants = overlaps.getParticipants(dateTime);\n\n              return (\n                <AggregatedTimeGridCell\n                  key={`${day.format(\"YYYY-MM-DD\")}-${hour.format(\"HH:mm\")}`}\n                  day={day}\n                  hour={hour}\n                  startHour={startHour}\n                  finalHour={finalHour}\n                  participants={participants}\n                  totalResponses={overlaps.totalResponses}\n                  onCellHover={onCellHover}\n                  onCellLeave={onCellLeave}\n                  onCellClick={onCellClick}\n                />\n              );\n            })}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","import { Dayjs } from \"dayjs\";\n\ninterface AggregatedTimeGridDayProps {\n  day: Dayjs;\n}\n\nexport function AggregatedTimeGridDay({ day }: AggregatedTimeGridDayProps) {\n  return (\n    <div\n      key={`day-${day.format(\"ddd D\")}`}\n      className=\"timegrid-day\"\n      role=\"columnheader\"\n      aria-label={day.format(\"dddd, MMMM D, YYYY\")}\n    >\n      {day.format(\"ddd \")}\n      <div className=\"timegrid-day-number\">{day.format(\"D\")}</div>\n      {day.format(\"MMM\")}\n    </div>\n  );\n}\n","/**\n * Parses a hex color string into RGB components\n * @param hex - Hex color string (e.g., \"#ff0000\" or \"#f00\")\n * @returns RGB object with r, g, b values (0-255)\n */\nfunction hexToRgb(hex: string): { r: number; g: number; b: number } {\n  // Remove # if present\n  const cleanHex = hex.replace(/^#/, \"\");\n\n  // Handle shorthand hex (#f00 -> #ff0000)\n  const fullHex =\n    cleanHex.length === 3\n      ? cleanHex\n          .split(\"\")\n          .map((char) => char + char)\n          .join(\"\")\n      : cleanHex;\n\n  const r = parseInt(fullHex.substring(0, 2), 16);\n  const g = parseInt(fullHex.substring(2, 4), 16);\n  const b = parseInt(fullHex.substring(4, 6), 16);\n\n  return { r, g, b };\n}\n\n/**\n * Converts RGB components to hex color string\n * @param r - Red component (0-255)\n * @param g - Green component (0-255)\n * @param b - Blue component (0-255)\n * @returns Hex color string\n */\nfunction rgbToHex(r: number, g: number, b: number): string {\n  const toHex = (n: number) => {\n    const hex = Math.round(n).toString(16);\n    return hex.length === 1 ? \"0\" + hex : hex;\n  };\n\n  return `#${toHex(r)}${toHex(g)}${toHex(b)}`;\n}\n\n/**\n * Interpolates between two hex colors\n * @param color1 - Start color in hex format\n * @param color2 - End color in hex format\n * @param ratio - Interpolation ratio (0 = color1, 1 = color2)\n * @returns Interpolated color in hex format\n */\nexport function interpolateColor(\n  color1: string,\n  color2: string,\n  ratio: number\n): string {\n  const rgb1 = hexToRgb(color1);\n  const rgb2 = hexToRgb(color2);\n\n  // Clamp ratio between 0 and 1\n  const clampedRatio = Math.max(0, Math.min(1, ratio));\n\n  const r = rgb1.r + (rgb2.r - rgb1.r) * clampedRatio;\n  const g = rgb1.g + (rgb2.g - rgb1.g) * clampedRatio;\n  const b = rgb1.b + (rgb2.b - rgb1.b) * clampedRatio;\n\n  return rgbToHex(r, g, b);\n}\n\n/**\n * Gets a CSS variable value from the document root\n * @param variableName - CSS variable name (with or without --)\n * @returns The variable value or a fallback\n */\nexport function getCSSVariable(variableName: string, fallback: string): string {\n  if (typeof window === \"undefined\") return fallback;\n\n  const name = variableName.startsWith(\"--\")\n    ? variableName\n    : `--${variableName}`;\n  const value = getComputedStyle(document.documentElement)\n    .getPropertyValue(name)\n    .trim();\n\n  return value || fallback;\n}\n\n/**\n * Generates a heatmap color based on count and total\n * @param count - Number of participants available at this time\n * @param total - Total number of participants\n * @returns Hex color string for the heatmap cell\n */\nexport function getHeatmapColor(count: number, total: number): string {\n  // No one available - use empty color\n  if (count === 0) {\n    return getCSSVariable(\"timegrid-heatmap-empty\", \"#f5f5f5\");\n  }\n\n  // Get gradient endpoints from CSS variables\n  const startColor = getCSSVariable(\"timegrid-heatmap-start\", \"#e6f2ff\");\n  const endColor = getCSSVariable(\"timegrid-heatmap-end\", \"#1e5ba8\");\n\n  // Calculate ratio (1 person = some color, all people = end color)\n  const ratio = total > 1 ? count / total : 1;\n\n  return interpolateColor(startColor, endColor, ratio);\n}\n","export function getContrastTextColor(hexColor: string): string {\n  // Remove # if present\n  const hex = hexColor.replace(\"#\", \"\");\n\n  // Convert to RGB\n  const r = parseInt(hex.substr(0, 2), 16);\n  const g = parseInt(hex.substr(2, 2), 16);\n  const b = parseInt(hex.substr(4, 2), 16);\n\n  // Calculate relative luminance\n  const luminance = (0.299 * r + 0.587 * g + 0.114 * b) / 255;\n\n  // Return black for light backgrounds, white for dark\n  return luminance > 0.5 ? \"#495057\" : \"#ffffff\";\n}\n","import { Dayjs } from \"dayjs\";\nimport { ParticipantInfo } from \"./useAvailabilityOverlaps\";\nimport { getHeatmapColor } from \"./utils/colorInterpolation\";\nimport { getContrastTextColor } from \"./utils/contrastTextColor\";\n\ninterface AggregatedTimeGridCellProps {\n  day: Dayjs;\n  hour: Dayjs;\n  startHour: Dayjs;\n  finalHour: Dayjs;\n  participants: ParticipantInfo[];\n  totalResponses: number;\n  onCellHover?: (time: Dayjs, participants: ParticipantInfo[]) => void;\n  onCellLeave?: () => void;\n  onCellClick?: (time: Dayjs, participants: ParticipantInfo[]) => void;\n}\n\nexport function AggregatedTimeGridCell({\n  day,\n  hour,\n  startHour,\n  finalHour,\n  participants,\n  totalResponses,\n  onCellHover,\n  onCellLeave,\n  onCellClick,\n}: AggregatedTimeGridCellProps) {\n  const dateTime = day\n    .clone()\n    .hour(hour.hour())\n    .minute(hour.minute())\n    .second(0)\n    .millisecond(0);\n\n  const weekend = day.day() === 0 || day.day() === 6;\n  const earliest = hour.isSame(startHour, \"hour\");\n  const latest = hour.isSame(finalHour, \"hour\");\n\n  // Calculate dynamic heatmap color based on actual count\n  const heatmapColor = getHeatmapColor(participants.length, totalResponses);\n  const textColor = getContrastTextColor(heatmapColor);\n\n  const handleMouseEnter = () => {\n    if (onCellHover) {\n      onCellHover(dateTime, participants);\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (onCellLeave) {\n      onCellLeave();\n    }\n  };\n\n  const handleClick = () => {\n    if (onCellClick) {\n      onCellClick(dateTime, participants);\n    }\n  };\n\n  return (\n    <div\n      className={`timegrid-cell aggregated ${weekend ? \"weekend\" : \"\"} ${\n        earliest ? \"earliest\" : \"\"\n      } ${latest ? \"latest\" : \"\"}`}\n      data-time={dateTime.format(\"YYYY-MM-DD HH:mm\")}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      onClick={handleClick}\n      style={{\n        backgroundColor: heatmapColor,\n        color: textColor,\n        cursor: onCellClick ? \"pointer\" : \"default\",\n      }}\n      role=\"gridcell\"\n      aria-label={`${day.format(\"dddd, MMMM D\")} at ${hour.format(\n        \"h:mm A\",\n      )}, ${participants.length} of ${totalResponses} available`}\n    >\n      {hour.format(\"H:mm\")}\n    </div>\n  );\n}\n","import { useMemo } from \"react\";\nimport { Dayjs } from \"dayjs\";\n\nexport interface ParticipantResponse {\n  id: string;\n  name: string;\n  availability: Dayjs[];\n}\n\nexport interface ParticipantInfo {\n  id: string;\n  name: string;\n}\n\nexport interface AvailabilityOverlaps {\n  byTimestamp: Map<number, ParticipantInfo[]>;\n  getParticipants: (time: Dayjs) => ParticipantInfo[];\n  getCount: (time: Dayjs) => number;\n  totalResponses: number;\n}\n\nexport function useAvailabilityOverlaps(\n  responses: ParticipantResponse[]\n): AvailabilityOverlaps {\n  return useMemo(() => {\n    const byTimestamp = new Map<number, ParticipantInfo[]>();\n\n    responses.forEach(({ id, name, availability }) => {\n      availability.forEach((time) => {\n        const key = time.valueOf();\n        if (!byTimestamp.has(key)) {\n          byTimestamp.set(key, []);\n        }\n        byTimestamp.get(key)!.push({ id, name });\n      });\n    });\n\n    return {\n      byTimestamp,\n      getParticipants: (time: Dayjs) => {\n        return byTimestamp.get(time.valueOf()) || [];\n      },\n      getCount: (time: Dayjs) => {\n        return byTimestamp.get(time.valueOf())?.length || 0;\n      },\n      totalResponses: responses.length,\n    };\n  }, [responses]);\n}\n"],"mappings":"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","names":["import_react","import_react","import_react","import_react","import_jsx_runtime","import_jsx_runtime","dayjs","isSameOrBefore","import_react","import_dayjs","import_isSameOrBefore","import_jsx_runtime","import_jsx_runtime","import_react","import_jsx_runtime","dayjs","isSameOrBefore"]}